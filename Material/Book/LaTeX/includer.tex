\documentclass {article}
\usepackage [a6paper]{geometry}
\usepackage {bashful}
\pagestyle {empty}
\begin{document}
The directories in my \texttt {/usr} directory are:
\bash[stdout]
ls -F /usr
\END
That's it!
\end{document}

\documentclass{article}
\usepackage{forest}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{bashful}
\begin{document}
\bash
echo "Hello"
\END
\end{document}
\newcommand\mini[1]{\lstinline[basicstyle=\Huge]{#1}}


Hi there \mini{lisp} LISP
\end{document}


\forestset{%
  s tree/.style={
    for tree={
      circle,
      s sep'+=-3pt,
      fit=band,
    },
  },
  AST/.style={
      ellipse,
      fit=band,
      fill=blue!20,
  },
  nt/.style={circle,edge,fill=red!20},
  terminal/.style={rectangle, fill=gray!10,draw,minimum width=8ex},
  cons/.style={draw,edge,fill=teal},
  atom/.style={},
  nil/.style={circle,inner sep=-6pt,fill=white,nice empty nodes,tikz={\draw [rotate=-160,scale=0.44]
  \pgfsetlinewidth{6\pgflinewidth} % thickness
  ($(.center)!0.2!(!parent)$)
  coordinate (o)
  (o)++(-0.520,0)--++(1.04,0)
 % (o)++(-4,1)--++(8,0)
  (o)++(-0.380,.180)--++(.760,0)
 % (o)++(-2,3)--++(4,0)
  (o)++(-0.180,0.360)--++(0.360,0)
;}},
}
 f(2) ? g(++a,--b,-sin(c)) : 10+h()

 \def\A#1{[{#1},atom]}
\makeatletter\tikzset{use path/.code={\tikz@addmode{\pgfsyssoftpath@setcurrentpath#1}
\appto\tikz@preactions{\let\tikz@actions@path#1}}}\makeatother
\forestset{show boundary/.style={
before drawing tree={get min s tree boundary=\minboundary, get max s tree boundary=\maxboundary},
tikz+={\draw[red,use path=\minboundary]; \draw[red,use path=\maxboundary];}}}

 \newcommand\NIL{[$\varepsilon$,atom]}
 \A{\texttt{?:}}
\begin{forest}
[{},cons,fit =rectangle
  [\texttt{?:},atom]
  [{},cons
    [{},cons
      [$f(·)$,atom]
      [{},cons[2,atom][$\varepsilon$,atom]]
    ]
    [{},cons, draw, fit=rectangle,show boundary
      [{},cons
        [$g()$,atom]
        [{},cons
          [{},cons
            [\texttt{++},atom]
            [{},cons [$a$,atom] [$\varepsilon$,atom]]
          ]
          [{},cons
            [{},cons
              [\texttt{--},atom]
              [{},cons [$b$,atom] [$\varepsilon$,atom]]
            ]
            [{},cons
              [{},cons
                [{},cons
                  [\texttt{-},atom]
                  [{},cons
                    [{},cons
                        [$\sin(·)$,atom]
                        [{},cons [$c$,atom] [$\varepsilon$,atom]]
                    ]
                    [$\varepsilon$,atom]
                  ]
                ]
                [$\varepsilon$,atom]
              ]
              [$\varepsilon$,atom]
            ]
          ]
        ]
      ]
      [{},cons 
        [{},cons 
          [{},cons 
            [\texttt{+},atom]
            [{},cons 
              [10,atom]
              [{},cons 
                [{},cons [$h(·)$,atom][$\varepsilon$,atom]]
                [$\varepsilon$,atom]
              ]
            ]
          ]
        ]
        [$\varepsilon$,atom]
      ]
    ]
  ]
]
\end{forest}

\end{document}

\begin{forest}
  [{},cons
    [\texttt{?:},atom]
    [{},cons
    [\texttt{+},atom]
    [{},cons
    [10,atom]
    [{},cons
      [{},cons [$h(·)$,atom] [$\varepsilon$, atom] ]
      [$\varepsilon$, atom]
    ]
  ]
  \NIL
  ]
]
% }
% \third
\end{forest}
\end{document}
\newcommand\first{\third}
\newcommand\second{\third}

\begin{forest}
  s tree \third
\end{forest}

\begin{forest}
  s tree
  [{},cons \third \NIL]
  \end{forest}
\end{document}


\begin{forest}
  s tree
  [{},cons
    [\texttt{?:},atom]
      [{},cons % First argument to ternary
       [{},cons 
          [{},cons
          [$f(·)$,atom]
       [{},cons [2,atom] [$\varepsilon$,atom] ]
      ]
    [{},cons
    [{},cons [$g()$] [{},cons] [++a] [--b] [-sin(c)]
    ]
    ]
    ]
    % Third argument to ternary
[{}, cons [{},cons
    [\texttt{+},atom]
    [{},cons
    [10,atom]
    [{},cons
      [{},cons [$h(\cdot)$,atom] [$\varepsilon$, atom] ]
      [$\varepsilon$, atom]
    ]
  ]
  ] [$\varepsilon$, atom]
  ]
% End of arguments to ternary
      [$\varepsilon$,atom]
]
\end{forest}

\end{document}
%     [$g(·,·,·)$
%          [\texttt{++}~$a$]
%          [\texttt{--}~$b$]
%          [\texttt{-}
%             [$\sin(·)$~$c$]
%       ]
%     ]
%     [+
%     10
%       [
%        $h[·]$
%          ]
%    ]
% ]
\dominitoc\dominilof\dominilot
\renewcommand\mtcfont{\scriptsize\scshape}
\renewcommand\mlffont{\itshape}
\renewcommand\mltfont{\slshape}
\chapter{First}
\minitoc
\minilot
\minilof

My first chapter
\section{A}
\begin{figure}[h]
\caption{First figure in chapter~1}
\end{figure}
\begin{table}[h]
\caption{First table in chapter~1}
\end{table}
\section{B}
\begin{figure}[h]
empty figure
\caption{Second figure in chapter~1}
\end{figure}
\begin{table}
\caption{Second table in chapter~1}
\end{table}
\end{document}
